# Урок 4
Передача данных между C++ и QML, QML Charts

1. В первом задании доработал макросы для авто проперти, добавил рид-онли проперти, но с сигналом об изменении из бэкенда, то есть из QML его можно читать, а менять только из плюсов, и после изменения приходит сигнал. Требуется это для того, чтобы сообщить QML о завершении обсчёта значений функций. Конечно можно было бы оставить обычный проперти, но зачем QML давать возможность менять вектор значений функции, обсчитываемых на стороне плюсов? Вектор надо обезопасить от изменений со стороны QML, но также дать возможность реагировать на изменения вектора в следствие изменения типа графика. Названия графиков и набор цветов реализованы в виде векторов, где каждый элемент имеет индекс соответствующий значению типа графика из энама, что позволило в явном виде не использовать энам на стороне QML (по сути он используется там косвенно). Вектор названий - это рид-онли пропети, который является моделью для выпадющего списка. Дизайн полностью резиновый без использования меджик намберс. Проект находится в папке [ex1](https://github.com/bazyak/qml/tree/qml04/qml04/ex1). Демонстрация работы приложения в файле [4_1_demo.mov]()  
2. Во втором задании пользователь может ввести N-количество точек - задаётся константой в QML, но по-умолчанию равно 7 как требуется в задании. При запуске вектора X и Y заполняются значениями из задания, но ничего не мешает пользователю стереть эти координаты и построить график по меньшему количеству точек. Инпуты для ввода координат реализовал через репиторы (первый опыт), чтобы сократить однотипный код, а также для более удобного доступа к элементам, используя циклы. Полностью избавился от меджик намберс и сделал резиновым дизайн формы, где все параметры высчитываются из базовых констант. Со стороны бэкенда ничего нового относительно первого задания. Два вектора с входными параметрами - обычные авто-проперти, вектор Х результирующего графика - только для чтения, а вектор Y - традиционно только для чтения, но с сигналом об изменении из бэкенда. Проект находится в папке [ex2](https://github.com/bazyak/qml/tree/qml04/qml04/ex2). Демонстрация работы приложения в файле [4_2_demo.mov]()  
3. Из интересного - это динамическое изменение оси Y относительно полученного результата (проверка на бесконечность и поиск максимума и минимума для расчёта шага). Эта фича реализована в обеих заданиях, что позволяет отображать график дружелюбно для пользователя
